<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ·Ø¨ÙŠÙ‚ ØªØªØ¨Ø¹ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
    <style>
        :root {
            --primary-color: #4CAF50;
            --secondary-color: #2196F3;
            --warning-color: #f44336;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --card-bg: white;
            --prayer-not-done: #ffebee;
            --prayer-done: #e8f5e9;
            --prayer-score-high: #81c784;
            --prayer-score-medium: #ffb74d;
            --prayer-score-low: #e57373;
        }

        body {
            font-family: 'Tajawal', 'Segoe UI', Tahoma, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            direction: rtl;
        }

        .app-container {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--secondary-color);
            margin: 0;
            font-size: 1.8rem;
        }

        .date {
            color: #666;
            font-size: 1rem;
            margin-top: 5px;
        }

        .progress-container {
            margin: 20px 0;
        }

        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 0.9rem;
        }

        .daily-score {
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            margin: 15px 0;
            padding: 10px;
            border-radius: 5px;
            background-color: #f5f5f5;
        }
        
        .daily-score span {
            font-size: 1.3rem;
        }

        .prayers-list {
            list-style: none;
            padding: 0;
        }

        .prayer-item {
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            background-color: var(--prayer-not-done);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .prayer-item.done {
            background-color: var(--prayer-done);
        }

        .prayer-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .prayer-name {
            flex: 1;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .prayer-checkbox {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .prayer-message {
            font-size: 0.85rem;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
            height: 20px;
        }

        .prayer-message.show {
            opacity: 1;
        }

        .prayer-done-message {
            color: var(--primary-color);
        }

        .prayer-not-done-message {
            color: var(--warning-color);
        }

        .prayer-details {
            background-color: rgba(255, 255, 255, 0.6);
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
            display: none;
        }

        .prayer-details.show {
            display: block;
        }

        .detail-row {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .detail-row:last-child {
            margin-bottom: 0;
        }

        .detail-label {
            flex: 1;
            font-size: 0.9rem;
        }

        .prayer-options {
            display: flex;
            gap: 10px;
        }

        .option-btn {
            padding: 5px 12px;
            border: 1px solid #ddd;
            background-color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option-btn.selected {
            background-color: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
        }

        .score-indicator {
            display: flex;
            align-items: center;
            font-size: 0.85rem;
            color: #555;
        }

        .score-icon {
            font-size: 1rem;
            margin-left: 5px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .tab.active {
            border-bottom: 2px solid var(--secondary-color);
            color: var(--secondary-color);
            font-weight: bold;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .stats-container {
            margin-top: 20px;
        }

        .day-stats {
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 5px;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .day-stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .day-name {
            font-weight: bold;
        }
        
        .day-percentage {
            color: var(--secondary-color);
        }
        
        .day-progress {
            height: 5px;
            background-color: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .day-progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            border-radius: 3px;
        }

        .day-details {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: #555;
        }

        .day-detail {
            display: flex;
            align-items: center;
        }

        .day-detail-icon {
            margin-left: 5px;
        }

        .prayer-score {
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.85rem;
            margin-right: 5px;
        }

        .score-high {
            background-color: var(--prayer-score-high);
            color: white;
        }

        .score-medium {
            background-color: var(--prayer-score-medium);
            color: white;
        }

        .score-low {
            background-color: var(--prayer-score-low);
            color: white;
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .app-container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5rem;
            }

            .option-btn {
                padding: 4px 8px;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <h1>ØªØªØ¨Ø¹ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
            <div class="date" id="current-date"></div>
        </header>

        <div class="tabs">
            <div class="tab active" data-tab="prayers">Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
            <div class="tab" data-tab="stats">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</div>
        </div>

        <div id="prayers-tab" class="tab-content active">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text"></div>
            </div>

            <div class="daily-score" id="daily-score">
                ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ÙŠÙˆÙ…: <span id="score-value">0</span>/<span id="score-max">100</span>
            </div>

            <ul class="prayers-list" id="prayers-list">
                <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØµÙ„ÙˆØ§Øª Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
            </ul>
        </div>

        <div id="stats-tab" class="tab-content">
            <div class="stats-container" id="stats-container">
                <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£ÙŠØ§Ù… Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØµÙ„ÙˆØ§Øª
        const prayers = [
            { id: 'fajr', name: 'Ø§Ù„ÙØ¬Ø±', doneMessages: ['Ø£Ø­Ø³Ù†ØªØŒ Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡', 'Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ', 'Ù†ÙˆØ± Ø§Ù„Ù„Ù‡ ÙˆØ¬Ù‡Ùƒ'], notDoneMessages: ['ØµÙ„Ù‘ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙŠÙ†ÙØ¬Ø±', 'Ù„Ø§ ØªÙ†Ø³Ù‰ Ø§Ù„ØµÙ„Ø§Ø© Ù‚Ø¨Ù„ ÙÙˆØ§Øª Ø§Ù„Ø£ÙˆØ§Ù†', 'Ø³Ø§Ø±Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©'] },
            { id: 'dhuhr', name: 'Ø§Ù„Ø¸Ù‡Ø±', doneMessages: ['Ø£Ø­Ø³Ù†ØªØŒ Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡', 'Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ', 'Ø¬Ø²Ø§Ùƒ Ø§Ù„Ù„Ù‡ Ø®ÙŠØ±Ø§Ù‹'], notDoneMessages: ['ØµÙ„Ù‘ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙŠÙ†ÙØ¬Ø±', 'Ø§Ù„ØµÙ„Ø§Ø© Ø®ÙŠØ± Ù…Ù† Ø§Ù„Ù†ÙˆÙ…', 'Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ ØµÙ„Ø§ØªÙƒ'] },
            { id: 'asr', name: 'Ø§Ù„Ø¹ØµØ±', doneMessages: ['Ø£Ø­Ø³Ù†ØªØŒ Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡', 'Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ', 'Ø£Ø«Ø§Ø¨Ùƒ Ø§Ù„Ù„Ù‡'], notDoneMessages: ['ØµÙ„Ù‘ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙŠÙ†ÙØ¬Ø±', 'Ù„Ø§ ØªØ¶ÙŠØ¹ Ø§Ù„ØµÙ„Ø§Ø©', 'Ø§Ù„ØµÙ„Ø§Ø© Ù†ÙˆØ±'] },
            { id: 'maghrib', name: 'Ø§Ù„Ù…ØºØ±Ø¨', doneMessages: ['Ø£Ø­Ø³Ù†ØªØŒ Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡', 'Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ', 'Ø±ÙØ¹ Ø§Ù„Ù„Ù‡ Ù‚Ø¯Ø±Ùƒ'], notDoneMessages: ['ØµÙ„Ù‘ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙŠÙ†ÙØ¬Ø±', 'Ø³Ø§Ø±Ø¹ Ø¥Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø©', 'Ù„Ø§ ØªØ¤Ø¬Ù„ Ø§Ù„ØµÙ„Ø§Ø©'] },
            { id: 'isha', name: 'Ø§Ù„Ø¹Ø´Ø§Ø¡', doneMessages: ['Ø£Ø­Ø³Ù†ØªØŒ Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡', 'Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ', 'Ø£Ø­Ø³Ù† Ø§Ù„Ù„Ù‡ Ø¥Ù„ÙŠÙƒ'], notDoneMessages: ['ØµÙ„Ù‘ÙŠ Ø¨Ø³Ø±Ø¹Ø© Ù‚Ø¨Ù„ Ù…Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙŠÙ†ÙØ¬Ø±', 'Ø§Ù„ØµÙ„Ø§Ø© Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø¯ÙŠÙ†', 'Ø£Ø¯ÙÙ‘ ÙØ±Ø¶Ùƒ'] }
        ];

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø·
        const scoringSystem = {
            prayerDone: 10,           // Ø£Ø³Ø§Ø³ÙŠ Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø©
            onTime: 5,                // ØµÙ„Ø§Ø© ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§
            inMosque: 5,              // ØµÙ„Ø§Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯
            maxScorePerPrayer: 20,    // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù†Ù‚Ø§Ø· Ù„ÙƒÙ„ ØµÙ„Ø§Ø©
            maxDailyScore: 100        // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        };

        // Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        const arabicDays = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
        const arabicMonths = ['ÙŠÙ†Ø§ÙŠØ±', 'ÙØ¨Ø±Ø§ÙŠØ±', 'Ù…Ø§Ø±Ø³', 'Ø£Ø¨Ø±ÙŠÙ„', 'Ù…Ø§ÙŠÙˆ', 'ÙŠÙˆÙ†ÙŠÙˆ', 'ÙŠÙˆÙ„ÙŠÙˆ', 'Ø£ØºØ³Ø·Ø³', 'Ø³Ø¨ØªÙ…Ø¨Ø±', 'Ø£ÙƒØªÙˆØ¨Ø±', 'Ù†ÙˆÙÙ…Ø¨Ø±', 'Ø¯ÙŠØ³Ù…Ø¨Ø±'];

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        function getCurrentDate() {
            const now = new Date();
            const day = now.getDate();
            const month = arabicMonths[now.getMonth()];
            const year = now.getFullYear();
            const weekday = arabicDays[now.getDay()];
            return `${weekday} ${day} ${month} ${year}`;
        }

        // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙƒÙ…ÙØªØ§Ø­ Ù„Ù„ØªØ®Ø²ÙŠÙ†
        function getDateKey(date = new Date()) {
            return `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ
        document.getElementById('current-date').textContent = getCurrentDate();
        document.getElementById('score-max').textContent = scoringSystem.maxDailyScore;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙ„ÙˆØ§Øª
        function initializePrayers() {
            const dateKey = getDateKey();
            let prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
            const prayersList = document.getElementById('prayers-list');
            prayersList.innerHTML = '';

            prayers.forEach(prayer => {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø£Ùˆ ØªÙ‡ÙŠØ¦ØªÙ‡Ø§
                if (!prayers_status[prayer.id]) {
                    prayers_status[prayer.id] = {
                        done: false,
                        onTime: true, // Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª
                        inMosque: false,
                        score: 0
                    };
                }

                const prayerStatus = prayers_status[prayer.id];

                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„ØµÙ„Ø§Ø©
                const prayerItem = document.createElement('li');
                prayerItem.className = `prayer-item ${prayerStatus.done ? 'done' : ''}`;
                prayerItem.dataset.id = prayer.id;

                // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø£Ø³ Ø¹Ù†ØµØ± Ø§Ù„ØµÙ„Ø§Ø©
                const prayerHeader = document.createElement('div');
                prayerHeader.className = 'prayer-header';
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ø£Ø­Ø¯Ø§Ø« Ù„Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø±Ø£Ø³ Ø§Ù„ØµÙ„Ø§Ø© Ù„ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                prayerHeader.addEventListener('click', function(e) {
                    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù†Ù‚Ø± Ø¹Ù„Ù‰ checkboxØŒ Ù„Ø§ ØªÙ‚Ù… Ø¨ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØªÙØ§ØµÙŠÙ„
                    if (e.target.type === 'checkbox') return;
                    const details = prayerItem.querySelector('.prayer-details');
                    if (prayerStatus.done) {
                        details.classList.toggle('show');
                    }
                });

                // Ø²Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø©
                const prayerCheckbox = document.createElement('input');
                prayerCheckbox.type = 'checkbox';
                prayerCheckbox.className = 'prayer-checkbox';
                prayerCheckbox.checked = prayerStatus.done;
                prayerCheckbox.addEventListener('change', function() {
                    togglePrayer(prayer.id, this.checked);
                });

                // Ø§Ø³Ù… Ø§Ù„ØµÙ„Ø§Ø©
                const prayerName = document.createElement('div');
                prayerName.className = 'prayer-name';
                prayerName.textContent = prayer.name;

                // Ù…Ø¤Ø´Ø± Ø§Ù„Ù†Ù‚Ø§Ø·
                const scoreIndicator = document.createElement('div');
                scoreIndicator.className = 'score-indicator';
                
                const scoreValue = document.createElement('span');
                scoreValue.className = 'prayer-score';
                updateScoreClass(scoreValue, prayerStatus.score);
                scoreValue.textContent = prayerStatus.score;
                
                const scoreIcon = document.createElement('span');
                scoreIcon.className = 'score-icon';
                scoreIcon.textContent = 'â˜…';
                
                scoreIndicator.appendChild(scoreValue);
                scoreIndicator.appendChild(scoreIcon);

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ Ø±Ø£Ø³ Ø§Ù„ØµÙ„Ø§Ø©
                prayerHeader.appendChild(prayerCheckbox);
                prayerHeader.appendChild(prayerName);
                prayerHeader.appendChild(scoreIndicator);

                // Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ©
                const prayerMessage = document.createElement('div');
                prayerMessage.className = `prayer-message ${prayerStatus.done ? 'prayer-done-message show' : 'prayer-not-done-message'}`;
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø±Ø³Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                let messages = prayerStatus.done ? prayer.doneMessages : prayer.notDoneMessages;
                let randomMessage = messages[Math.floor(Math.random() * messages.length)];
                prayerMessage.textContent = randomMessage;

                // ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø© (ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø¹Ù†Ø¯ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙ„Ø§Ø©)
                const prayerDetails = document.createElement('div');
                prayerDetails.className = `prayer-details ${prayerStatus.done ? 'show' : ''}`;

                // ØµÙ Ø§Ù„ØªÙØ§ØµÙŠÙ„ 1: ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø£Ùˆ Ù‚Ø¶Ø§Ø¡
                const timeDetailRow = document.createElement('div');
                timeDetailRow.className = 'detail-row';

                const timeLabel = document.createElement('div');
                timeLabel.className = 'detail-label';
                timeLabel.textContent = 'ÙˆÙ‚Øª Ø§Ù„ØµÙ„Ø§Ø©:';

                const timeOptions = document.createElement('div');
                timeOptions.className = 'prayer-options';

                const onTimeBtn = document.createElement('button');
                onTimeBtn.className = `option-btn ${prayerStatus.onTime ? 'selected' : ''}`;
                onTimeBtn.textContent = 'ÙÙŠ Ø§Ù„ÙˆÙ‚Øª';
                onTimeBtn.addEventListener('click', function() {
                    updatePrayerDetail(prayer.id, 'onTime', true);
                });

                const lateBtn = document.createElement('button');
                lateBtn.className = `option-btn ${!prayerStatus.onTime ? 'selected' : ''}`;
                lateBtn.textContent = 'Ù‚Ø¶Ø§Ø¡';
                lateBtn.addEventListener('click', function() {
                    updatePrayerDetail(prayer.id, 'onTime', false);
                });

                timeOptions.appendChild(onTimeBtn);
                timeOptions.appendChild(lateBtn);
                timeDetailRow.appendChild(timeLabel);
                timeDetailRow.appendChild(timeOptions);

                // ØµÙ Ø§Ù„ØªÙØ§ØµÙŠÙ„ 2: ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯ Ø£Ùˆ ÙÙŠ Ø§Ù„Ø¨ÙŠØª
                const placeDetailRow = document.createElement('div');
                placeDetailRow.className = 'detail-row';

                const placeLabel = document.createElement('div');
                placeLabel.className = 'detail-label';
                placeLabel.textContent = 'Ù…ÙƒØ§Ù† Ø§Ù„ØµÙ„Ø§Ø©:';

                const placeOptions = document.createElement('div');
                placeOptions.className = 'prayer-options';

                const mosqueBtn = document.createElement('button');
                mosqueBtn.className = `option-btn ${prayerStatus.inMosque ? 'selected' : ''}`;
                mosqueBtn.textContent = 'ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯';
                mosqueBtn.addEventListener('click', function() {
                    updatePrayerDetail(prayer.id, 'inMosque', true);
                });

                const homeBtn = document.createElement('button');
                homeBtn.className = `option-btn ${!prayerStatus.inMosque ? 'selected' : ''}`;
                homeBtn.textContent = 'ÙÙŠ Ø§Ù„Ø¨ÙŠØª';
                homeBtn.addEventListener('click', function() {
                    updatePrayerDetail(prayer.id, 'inMosque', false);
                });

                placeOptions.appendChild(mosqueBtn);
                placeOptions.appendChild(homeBtn);
                placeDetailRow.appendChild(placeLabel);
                placeDetailRow.appendChild(placeOptions);

                // Ø¥Ø¶Ø§ÙØ© ØµÙÙˆÙ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø¥Ù„Ù‰ Ù‚Ø³Ù… Ø§Ù„ØªÙØ§ØµÙŠÙ„
                prayerDetails.appendChild(timeDetailRow);
                prayerDetails.appendChild(placeDetailRow);

                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ Ø¹Ù†ØµØ± Ø§Ù„ØµÙ„Ø§Ø©
                prayerItem.appendChild(prayerHeader);
                prayerItem.appendChild(prayerMessage);
                prayerItem.appendChild(prayerDetails);

                // Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ØµØ± Ø§Ù„ØµÙ„Ø§Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
                prayersList.appendChild(prayerItem);
            });

            // Ø­ÙØ¸ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
            localStorage.setItem(`prayers_${dateKey}`, JSON.stringify(prayers_status));
            
            updateProgressBar();
            updateDailyScore();
        }

        // ØªØ­Ø¯ÙŠØ« ØµÙ†Ù Ø§Ù„Ù†Ù‚Ø§Ø· (Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ†)
        function updateScoreClass(element, score) {
            element.classList.remove('score-high', 'score-medium', 'score-low');
            
            if (score >= 15) {
                element.classList.add('score-high');
            } else if (score >= 10) {
                element.classList.add('score-medium');
            } else {
                element.classList.add('score-low');
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø§Ù„ØµÙ„Ø§Ø©
        function togglePrayer(prayerId, isDone) {
            const dateKey = getDateKey();
            let prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„ØµÙ„Ø§Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§
            if (!prayers_status[prayerId]) {
                prayers_status[prayerId] = {
                    done: false,
                    onTime: true,
                    inMosque: false,
                    score: 0
                };
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ØµÙ„Ø§Ø©
            prayers_status[prayerId].done = isDone;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
            calculatePrayerScore(prayers_status[prayerId]);
            
            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
            localStorage.setItem(`prayers_${dateKey}`, JSON.stringify(prayers_status));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updatePrayerUI(prayerId, prayers_status[prayerId]);
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
            updateProgressBar();
            updateDailyScore();
        }

        // ØªØ­Ø¯ÙŠØ« ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø©
        function updatePrayerDetail(prayerId, detail, value) {
            const dateKey = getDateKey();
            let prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
            
            // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„ØµÙ„Ø§Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©ØŒ Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§
            if (!prayers_status[prayerId]) {
                prayers_status[prayerId] = {
                    done: false,
                    onTime: true,
                    inMosque: false,
                    score: 0
                };
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙØµÙŠÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            prayers_status[prayerId][detail] = value;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
            calculatePrayerScore(prayers_status[prayerId]);
            
            // Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
            localStorage.setItem(`prayers_${dateKey}`, JSON.stringify(prayers_status));
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updatePrayerUI(prayerId, prayers_status[prayerId]);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
            updateDailyScore();
        }

        // Ø­Ø³Ø§Ø¨ Ù†Ù‚Ø§Ø· Ø§Ù„ØµÙ„Ø§Ø©
        function calculatePrayerScore(prayerStatus) {
            let score = 0;
            
            if (prayerStatus.done) {
                // Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø©
                score += scoringSystem.prayerDone;
                
                // Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØµÙ„Ø§Ø© ÙÙŠ ÙˆÙ‚ØªÙ‡Ø§
                if (prayerStatus.onTime) {
                    score += scoringSystem.onTime;
                }
                
                // Ù†Ù‚Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØµÙ„Ø§Ø© ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯
                if (prayerStatus.inMosque) {
                    score += scoringSystem.inMosque;
                }
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø­Ø³ÙˆØ¨Ø©
            prayerStatus.score = score;
            
            return score;
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„ØµÙ„Ø§Ø©
        function updatePrayerUI(prayerId, prayerStatus) {
            const prayerItem = document.querySelector(`.prayer-item[data-id="${prayerId}"]`);
            if (!prayerItem) return;
            
            // ØªØ­Ø¯ÙŠØ« ÙØ¦Ø© Ø§Ù„ØµÙ„Ø§Ø©
            if (prayerStatus.done) {
                prayerItem.classList.add('done');
            } else {
                prayerItem.classList.remove('done');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ù‚Ø³Ù… Ø§Ù„ØªÙØ§ØµÙŠÙ„
            const prayerDetails = prayerItem.querySelector('.prayer-details');
            if (prayerStatus.done) {
                prayerDetails.classList.add('show');
            } else {
                prayerDetails.classList.remove('show');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­ÙÙŠØ²ÙŠØ©
            const prayerMessage = prayerItem.querySelector('.prayer-message');
            
            if (prayerStatus.done) {
                prayerMessage.classList.remove('prayer-not-done-message');
                prayerMessage.classList.add('prayer-done-message', 'show');
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø±Ø³Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                const prayer = prayers.find(p => p.id === prayerId);
                let randomMessage = prayer.doneMessages[Math.floor(Math.random() * prayer.doneMessages.length)];
                prayerMessage.textContent = randomMessage;
            } else {
                prayerMessage.classList.remove('prayer-done-message');
                prayerMessage.classList.add('prayer-not-done-message', 'show');
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø±Ø³Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                const prayer = prayers.find(p => p.id === prayerId);
                let randomMessage = prayer.notDoneMessages[Math.floor(Math.random() * prayer.notDoneMessages.length)];
                prayerMessage.textContent = randomMessage;
            }
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø«Ù… Ø¥Ø®ÙØ§Ø¤Ù‡Ø§ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
            setTimeout(() => {
                prayerMessage.classList.remove('show');
            }, 3000);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
            const scoreValue = prayerItem.querySelector('.prayer-score');
            scoreValue.textContent = prayerStatus.score;
            updateScoreClass(scoreValue, prayerStatus.score);
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            const timeOptions = prayerItem.querySelectorAll('.prayer-options')[0];
            const onTimeBtn = timeOptions.querySelector('.option-btn:nth-child(1)');
            const lateBtn = timeOptions.querySelector('.option-btn:nth-child(2)');
            
            onTimeBtn.classList.toggle('selected', prayerStatus.onTime);
            lateBtn.classList.toggle('selected', !prayerStatus.onTime);
            
            const placeOptions = prayerItem.querySelectorAll('.prayer-options')[1];
            const mosqueBtn = placeOptions.querySelector('.option-btn:nth-child(1)');
            const homeBtn = placeOptions.querySelector('.option-btn:nth-child(2)');
            
            mosqueBtn.classList.toggle('selected', prayerStatus.inMosque);
            homeBtn.classList.toggle('selected', !prayerStatus.inMosque);
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgressBar() {
            const dateKey = getDateKey();
            let prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
            
            // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…Ø¤Ø¯Ø§Ø©
            let donePrayers = 0;
            prayers.forEach(prayer => {
                if (prayers_status[prayer.id] && prayers_status[prayer.id].done) {
                    donePrayers++;
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            const percentage = (donePrayers / prayers.length) * 100;
            document.getElementById('progress-fill').style.width = `${percentage}%`;
            document.getElementById('progress-text').textContent = `${donePrayers} Ù…Ù† ${prayers.length} (${Math.round(percentage)}%)`;
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
        function updateDailyScore() {
            const dateKey = getDateKey();
            let prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
            
            // Ø­Ø³Ø§Ø¨ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·
            let totalScore = 0;
            prayers.forEach(prayer => {
                if (prayers_status[prayer.id]) {
                    totalScore += prayers_status[prayer.id].score;
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø·
            document.getElementById('score-value').textContent = totalScore;
            
            // ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø©
            const dailyScore = document.getElementById('daily-score');
            dailyScore.style.backgroundColor = getTotalScoreColor(totalScore);
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù„ÙˆÙ† Ø§Ù„Ù†Ù‚Ø§Ø· Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙŠÙ…Ø©
        function getTotalScoreColor(score) {
            const percentage = (score / scoringSystem.maxDailyScore) * 100;
            
            if (percentage >= 80) {
                return '#e8f5e9'; // Ø£Ø®Ø¶Ø± ÙØ§ØªØ­
            } else if (percentage >= 50) {
                return '#fff8e1'; // Ø£ØµÙØ± ÙØ§ØªØ­
            } else {
                return '#ffebee'; // Ø£Ø­Ù…Ø± ÙØ§ØªØ­
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateStats() {
            const statsContainer = document.getElementById('stats-container');
            statsContainer.innerHTML = '';
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ø¨Ø¹Ø© Ø§Ù„Ù…Ø§Ø¶ÙŠØ©
            const dates = getLast7Days();
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù„ÙƒÙ„ ÙŠÙˆÙ…
            dates.forEach(date => {
                const { dateKey, formattedDate } = date;
                const prayers_status = JSON.parse(localStorage.getItem(`prayers_${dateKey}`)) || {};
                
                // Ø­Ø³Ø§Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ÙŠÙˆÙ…
                let donePrayers = 0;
                let inMosquePrayers = 0;
                let onTimePrayers = 0;
                let totalScore = 0;
                
                prayers.forEach(prayer => {
                    if (prayers_status[prayer.id] && prayers_status[prayer.id].done) {
                        donePrayers++;
                        
                        if (prayers_status[prayer.id].inMosque) {
                            inMosquePrayers++;
                        }
                        
                        if (prayers_status[prayer.id].onTime) {
                            onTimePrayers++;
                        }
                        
                        totalScore += prayers_status[prayer.id].score || 0;
                    }
                });
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©
                const percentage = (donePrayers / prayers.length) * 100;
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                const dayStats = document.createElement('div');
                dayStats.className = 'day-stats';
                
                const dayStatsHeader = document.createElement('div');
                dayStatsHeader.className = 'day-stats-header';
                
                const dayName = document.createElement('div');
                dayName.className = 'day-name';
                dayName.textContent = formattedDate;
                
                const dayPercentage = document.createElement('div');
                dayPercentage.className = 'day-percentage';
                dayPercentage.textContent = `${donePrayers}/${prayers.length} (${Math.round(percentage)}%)`;
                
                const dayProgress = document.createElement('div');
                dayProgress.className = 'day-progress';
                
                const dayProgressFill = document.createElement('div');
                dayProgressFill.className = 'day-progress-fill';
                dayProgressFill.style.width = `${percentage}%`;
                
                dayProgress.appendChild(dayProgressFill);
                dayStatsHeader.appendChild(dayName);
                dayStatsHeader.appendChild(dayPercentage);
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙØ§ØµÙŠÙ„
                const dayDetails = document.createElement('div');
                dayDetails.className = 'day-details';
                
                const scoreDetail = document.createElement('div');
                scoreDetail.className = 'day-detail';
                scoreDetail.innerHTML = `<span class="day-detail-icon">â˜…</span> Ø§Ù„Ù†Ù‚Ø§Ø·: ${totalScore}`;
                
                const mosqueDetail = document.createElement('div');
                mosqueDetail.className = 'day-detail';
                mosqueDetail.innerHTML = `<span class="day-detail-icon">ğŸ•Œ</span> ÙÙŠ Ø§Ù„Ù…Ø³Ø¬Ø¯: ${inMosquePrayers}`;
                
                const timeDetail = document.createElement('div');
                timeDetail.className = 'day-detail';
                timeDetail.innerHTML = `<span class="day-detail-icon">â°</span> ÙÙŠ Ø§Ù„ÙˆÙ‚Øª: ${onTimePrayers}`;
                
                dayDetails.appendChild(scoreDetail);
                dayDetails.appendChild(mosqueDetail);
                dayDetails.appendChild(timeDetail);
                
                // ØªØ¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                dayStats.appendChild(dayStatsHeader);
                dayStats.appendChild(dayProgress);
                dayStats.appendChild(dayDetails);
                
                statsContainer.appendChild(dayStats);
            });
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙŠØ§Ù… Ø§Ù„Ø³Ø¨Ø¹Ø© Ø§Ù„Ù…Ø§Ø¶ÙŠØ©
        function getLast7Days() {
            const dates = [];
            const today = new Date();
            
            // Ø¨Ø¯Ø¡ Ù…Ù† -6 Ø£ÙŠØ§Ù… (Ù‚Ø¨Ù„ 6 Ø£ÙŠØ§Ù…) ÙˆØµÙˆÙ„Ø§Ù‹ Ø¥Ù„Ù‰ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø­Ø§Ù„ÙŠ (0)
            for (let i = 0; i <= 6; i++) {
                const date = new Date(today);
                // Ø§Ø·Ø±Ø­ Ø§Ù„Ø£ÙŠØ§Ù… Ø¨Ø¯Ø¡Ù‹Ø§ Ù…Ù† -6 ÙˆØµÙˆÙ„Ø§Ù‹ Ø¥Ù„Ù‰ 0 (Ø§Ù„ÙŠÙˆÙ…)
                date.setDate(date.getDate() - (6 - i));
                
                const day = date.getDate();
                const month = date.getMonth() + 1;
                const year = date.getFullYear();
                
                const dateKey = `${year}-${month}-${day}`;
                const weekday = arabicDays[date.getDay()];
                const formattedDate = `${weekday} ${day}/${month}`;
                
                dates.push({ dateKey, formattedDate });
            }
            return dates;
        }

        // Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¨ÙˆÙŠØ¨
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ¨ÙˆÙŠØ¨
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù†Ø´Ø·Ø© Ø¥Ù„Ù‰ Ø¹Ù„Ø§Ù…Ø© Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
                this.classList.add('active');
                document.getElementById(`${this.dataset.tab}-tab`).classList.add('active');
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¹Ù„Ø§Ù…Ø© ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                if (this.dataset.tab === 'stats') {
                    updateStats();
                }
            });
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', () => {
            initializePrayers();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØºÙŠØ± Ø§Ù„ØªØ§Ø±ÙŠØ® ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
            setInterval(() => {
                const currentDateDisplay = document.getElementById('current-date').textContent;
                const newDateDisplay = getCurrentDate();
                
                if (currentDateDisplay !== newDateDisplay) {
                    document.getElementById('current-date').textContent = newDateDisplay;
                    initializePrayers();
                }
            }, 60000);
        });
    </script>
</body>
</html>
